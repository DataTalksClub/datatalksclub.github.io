<html lang="en">

{% include head.html %}

<body>
  {% include header.html %}

  <main class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto">

        <!-- SEO: Author Profile Header with Semantic HTML -->
        <header class="my-3 author-name text-center">
          <img class="author-image" src="/{{ page.picture }}" 
               alt="{{ page.title }} - Author Profile Photo" 
               loading="eager" />
          <h1 class="author-title">{{ page.title }}</h1>
        </header>

        <!-- SEO: Author Biography Section -->
        <section class="content-main my-3" aria-labelledby="author-bio">
          <h2 id="author-bio" class="sr-only">Author Biography</h2>
          {{ content }}
        </section>

        <!-- SEO: Author Social Links with Security and Accessibility -->
        <nav class="author-links my-3" aria-label="Author Social Media Links">
          {% if page.twitter %} 
            <a href="https://twitter.com/{{ page.twitter }}" target="_blank" rel="noopener noreferrer" aria-label="Follow {{ page.title }} on Twitter">
              <i class="fab fa-twitter" aria-hidden="true"></i>
              <span class="sr-only">Twitter</span>
            </a>
          {% endif %}
          {% if page.linkedin %} 
            <a href="https://linkedin.com/in/{{ page.linkedin }}" target="_blank" rel="noopener noreferrer" aria-label="Connect with {{ page.title }} on LinkedIn">
              <i class="fab fa-linkedin-in" aria-hidden="true"></i>
              <span class="sr-only">LinkedIn</span>
            </a>
          {% endif %}
          {% if page.github %} 
            <a href="https://github.com/{{ page.github }}" target="_blank" rel="noopener noreferrer" aria-label="View {{ page.title }}'s GitHub profile">
              <i class="fab fa-github" aria-hidden="true"></i>
              <span class="sr-only">GitHub</span>
            </a>
          {% endif %}
          {% if page.web %} 
            <a href="{{ page.web }}" target="_blank" rel="noopener noreferrer" aria-label="Visit {{ page.title }}'s personal website">
              <i class="fas fa-link" aria-hidden="true"></i>
              <span class="sr-only">Personal Website</span>
            </a>
          {% endif %}
        </nav>

        {% assign articles = site.posts 
          | where_exp: "post", "post.authors contains page.short" %}

        {% if articles.size > 0 %}
          <!-- SEO: Author Articles Section with Semantic Structure -->
          <section class="author-articles my-4" aria-labelledby="articles-heading">
            <h2 id="articles-heading">Articles by {{ page.title }}</h2>
            <ul class="articles-list">
              {% for post in articles %}
                <li class="article-item">
                  <a href="{{ post.url }}" title="Read: {{ post.title }}">{{ post.title }}</a>
                </li>
              {% endfor %}
            </ul>
          </section>
        {% endif %}

        {% assign events = site.data.events 
          | where_exp: "event", "event.draft != true"
          | where_exp: "event", "event.speakers contains page.short"
          | sort: 'time' %}

        {% if events.size > 0 %}
          <!-- SEO: Author Events Section with Semantic Structure -->
          <section class="author-events my-4" aria-labelledby="events-heading">
            <h2 id="events-heading">Events by {{ page.title }}</h2>
            <ul class="events-list">
              {% for event in events %}
                <li class="event-item">
                  {% include event.html event=event speakers=false %}
                </li>
              {% endfor %}
            </ul>
          </section>
        {% endif %}

        {% assign books = site.books
          | where_exp: "book", "book.authors contains page.short" %}

        {% if books.size > 0 %}
          <!-- SEO: Author Books Section with Semantic Structure -->
          <section class="author-books my-4" aria-labelledby="books-heading">
            <h2 id="books-heading">Books by {{ page.title }}</h2>
            <ul class="books-list">
              {% for book in books %}
                <li class="book-item">
                  <a href="{{ book.id }}.html" title="Read about: {{ book.title }}">{{ book.title }}</a>
                </li>
              {% endfor %}
            </ul>
          </section>
        {% endif %}

        <div class="article-divider"></div>

        <!-- SEO: Newsletter Subscription Section -->
        <aside class="article-end" aria-labelledby="subscribe-heading">
          <h2 id="subscribe-heading" class="sr-only">Newsletter Subscription</h2>
          {% include subscribe.html subscribe="true" %}
        </aside>
      </div>
    </div>
  </main>

  {% include footer.html %}

  <!-- SEO: JSON-LD Structured Data for Author -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "{{ page.title }}",
    "image": "{{ site.url }}/{{ page.picture }}",
    "description": "{{ page.content | strip_html | truncate: 160 | escape }}",
    "url": "{{ site.url }}{{ page.url }}",
    {% if page.twitter or page.linkedin or page.github or page.web %}
    "sameAs": [
      {% if page.twitter %}"https://twitter.com/{{ page.twitter }}"{% endif %}
      {% if page.linkedin %}{% if page.twitter %},{% endif %}"https://linkedin.com/in/{{ page.linkedin }}"{% endif %}
      {% if page.github %}{% if page.twitter or page.linkedin %},{% endif %}"https://github.com/{{ page.github }}"{% endif %}
      {% if page.web %}{% if page.twitter or page.linkedin or page.github %},{% endif %}"{{ page.web }}"{% endif %}
    ]
    {% endif %}
  }
  </script>
</body>